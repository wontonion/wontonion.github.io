<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-auth-and-security/Oauth2" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.3">
<title data-rh="true">Story of OAuth2 | wontonion&#x27;s blog</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://wontonion.github.io/zh-Hans/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://wontonion.github.io/zh-Hans/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://wontonion.github.io/zh-Hans/docs/auth-and-security/Oauth2"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Story of OAuth2 | wontonion&#x27;s blog"><meta data-rh="true" name="description" content="OAuth2 is a protocol that allows a user to grant a third-party web site or application access to the user&#x27;s protected resources, without necessarily revealing their long-term credentials or even their identity. This is done by authorizing the third-party application to access the user&#x27;s resources on their behalf. OAuth2 is a widely used protocol for authorization and is used by many companies like Google, Facebook, and Twitter."><meta data-rh="true" property="og:description" content="OAuth2 is a protocol that allows a user to grant a third-party web site or application access to the user&#x27;s protected resources, without necessarily revealing their long-term credentials or even their identity. This is done by authorizing the third-party application to access the user&#x27;s resources on their behalf. OAuth2 is a widely used protocol for authorization and is used by many companies like Google, Facebook, and Twitter."><link data-rh="true" rel="icon" href="/zh-Hans/img/clean_avatar.png"><link data-rh="true" rel="canonical" href="https://wontonion.github.io/zh-Hans/docs/auth-and-security/Oauth2"><link data-rh="true" rel="alternate" href="https://wontonion.github.io/docs/auth-and-security/Oauth2" hreflang="en"><link data-rh="true" rel="alternate" href="https://wontonion.github.io/zh-Hans/docs/auth-and-security/Oauth2" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://wontonion.github.io/docs/auth-and-security/Oauth2" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/zh-Hans/blog/rss.xml" title="wontonion&#39;s blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zh-Hans/blog/atom.xml" title="wontonion&#39;s blog Atom Feed"><link rel="stylesheet" href="/zh-Hans/assets/css/styles.8f542d31.css">
<script src="/zh-Hans/assets/js/runtime~main.f53e7c90.js" defer="defer"></script>
<script src="/zh-Hans/assets/js/main.62c80058.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_Ni4h" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh-Hans/"><div class="navbar__logo"><img src="/zh-Hans/img/github_avatar.jpeg" alt="wontonion&#x27;s github avatar" class="themedComponent_doJ8 themedComponent--light_Xqlf" style="width:30px;height:30px;border-radius:50%"><img src="/zh-Hans/img/github_avatar.jpeg" alt="wontonion&#x27;s github avatar" class="themedComponent_doJ8 themedComponent--dark_NgaB" style="width:30px;height:30px;border-radius:50%"></div><b class="navbar__title text--truncate">wontonion</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/zh-Hans/about">About</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/zh-Hans/docs">Docs</a><a class="navbar__item navbar__link" href="/zh-Hans/project">Project</a><a href="https://github.com/wontonion" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink__Lj7"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbarSearchContainer_aLwx"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_kLdA"><div class="docsWrapper_Q31X"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_RVU9" type="button"></button><div class="docRoot_Pesf"><aside class="theme-doc-sidebar-container docSidebarContainer_vyA8"><div class="sidebarViewport_vvqq"><div class="sidebar_WdY4"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_nK2n"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/zh-Hans/docs/category/frontend-study">Frontend Study</a><button aria-label="展开侧边栏分类 &#x27;Frontend Study&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh-Hans/docs/intro">Tutorial Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/zh-Hans/docs/category/multithreading-in-java">Multithreading in Java</a><button aria-label="展开侧边栏分类 &#x27;Multithreading in Java&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/zh-Hans/docs/category/tutorial---basics">Tutorial - Basics</a><button aria-label="展开侧边栏分类 &#x27;Tutorial - Basics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/zh-Hans/docs/category/tutorial---extras">Tutorial - Extras</a><button aria-label="展开侧边栏分类 &#x27;Tutorial - Extras&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/zh-Hans/docs/auth-and-security/Oauth2">auth-and-security</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/zh-Hans/docs/auth-and-security/Oauth2">Story of OAuth2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-Hans/docs/auth-and-security/jwt-with-passportjs">jwt-with-passportjs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-Hans/docs/auth-and-security/jwt">The story of JWT</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-Hans/docs/auth-and-security/register-and-login-desing">registration and login</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh-Hans/docs/greeting">Hello from Docusaurus</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh-Hans/docs/">index</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/zh-Hans/docs/japanese-study/red-gem-book/文字问题">japanese-study</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_CkrH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_CF45"><div class="docItemContainer_yyys"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_ffMw" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/zh-Hans/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_gMLt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">auth-and-security</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Story of OAuth2</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_EOnL theme-doc-toc-mobile tocMobile_DsBD"><button type="button" class="clean-btn tocCollapsibleButton_nX2t">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>Story of OAuth2</h1></header>
<p>OAuth2 is a protocol that allows a user to grant a third-party web site or application access to the user&#x27;s protected resources, without necessarily revealing their long-term credentials or even their identity. This is done by authorizing the third-party application to access the user&#x27;s resources on their behalf. OAuth2 is a widely used protocol for authorization and is used by many companies like Google, Facebook, and Twitter.</p>
<h2 class="anchor anchorWithStickyNavbar_rNrb" id="scenario-when-oauth2-is-used">scenario when OAuth2 is used<a href="#scenario-when-oauth2-is-used" class="hash-link" aria-label="scenario when OAuth2 is used的直接链接" title="scenario when OAuth2 is used的直接链接">​</a></h2>
<p>Say, you want to log in to a website using your Google account. The website will redirect you to Google&#x27;s login page. You will enter your Google credentials and Google will authenticate you. After successful authentication, Google will ask you if you want to grant the website access to your Google account. If you grant access, Google will send an access token to the website. The website can use this access token to access your Google account on your behalf.</p>
<p>So there are two things happening here:</p>
<ol>
<li>Google authenticates you.</li>
<li>Google authorizes the website to access your Google account on your behalf with an access token.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_rNrb" id="oauth2-grant-types">OAuth2 grant types<a href="#oauth2-grant-types" class="hash-link" aria-label="OAuth2 grant types的直接链接" title="OAuth2 grant types的直接链接">​</a></h2>
<p>Grant types are the ways in which a client can get an access token. OAuth2 defines 4 grant types for different use cases. The most common grant types is authorization code Grant.</p>
<h3 class="anchor anchorWithStickyNavbar_rNrb" id="authorization-code-grant">authorization code Grant<a href="#authorization-code-grant" class="hash-link" aria-label="authorization code Grant的直接链接" title="authorization code Grant的直接链接">​</a></h3>
<p>This is the most commonly used and safest grant type. Using the above example, authorization code grant contains the following steps:
let&#x27;s say the website called &quot;cellotape&quot;</p>
<ol>
<li>When user click the log in with Google button on cellotape, cellotape will redirect the user to Google&#x27;s login page.</li>
<li>User will enter their Google credentials and Google will authenticate the user.</li>
<li>After successful authentication, Google will ask the user if they want to grant cellotape access to their Google account.</li>
<li>If the user grants access, Google will redirect the user back to cellotape with an authorization code. In this step, Google send the authorization code to cellotape&#x27;s frontend.</li>
<li>Cellotape&#x27;s frontend will send the authorization code to cellotape&#x27;s backend.</li>
<li>Cellotape&#x27;s backend will send the authorization code to Google&#x27;s token endpoint along with the client id and client secret.</li>
<li>Google will verify the authorization code and client id and client secret. If everything is correct, Google will send an access token to cellotape&#x27;s backend.</li>
<li>Cellotape&#x27;s backend will store the access token and use it to access the user&#x27;s Google account on their behalf.</li>
</ol>
<p>After these steps, when user send request to cellotape, cellotape will use the access token to access the user&#x27;s Google account:</p>
<ol>
<li>User send request to cellotape.</li>
<li>Cellotape&#x27;s backend will handle the request and use the access token to access the user&#x27;s Google account.</li>
<li>Cellotape&#x27;s backend will return the data to cellotape&#x27;s backend.</li>
<li>Cellotape&#x27;s frontend will display the data to the user.</li>
</ol>
<p>The authentication code is passes via frontend, and the token is stored in the backend. This is the most secure way to get the token. Also in this case, JWT can worked as token.</p>
<h3 class="anchor anchorWithStickyNavbar_rNrb" id="more-grant-types-to-be-continued">more grant types to be continued...<a href="#more-grant-types-to-be-continued" class="hash-link" aria-label="more grant types to be continued...的直接链接" title="more grant types to be continued...的直接链接">​</a></h3>
<h2 class="anchor anchorWithStickyNavbar_rNrb" id="where-goes-the-oauth10">Where goes the OAuth1.0?<a href="#where-goes-the-oauth10" class="hash-link" aria-label="Where goes the OAuth1.0?的直接链接" title="Where goes the OAuth1.0?的直接链接">​</a></h2>
<p>OAuth 1.0 is the predecessor of OAuth 2.0. OAuth 1.0 is more complex and less secure than OAuth 2.0. OAuth 1.0 uses digital signatures to authenticate the client and the server. It is much more complex than OAuth 2.0, which uses access tokens to authenticate the client and the server.</p>
<p>reference:
(OAuth 1.0 Vs OAuth 2.0)[<a href="https://medium.com/identity-beyond-borders/oauth-1-0-vs-oauth-2-0-e36f8924a835" target="_blank" rel="noopener noreferrer">https://medium.com/identity-beyond-borders/oauth-1-0-vs-oauth-2-0-e36f8924a835</a>]</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/auth-and-security/Oauth2.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_AC0f" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_w2LY"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/zh-Hans/docs/tutorial-extras/translate-your-site"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Translate your site</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/zh-Hans/docs/auth-and-security/jwt-with-passportjs"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">jwt-with-passportjs</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_y0gg thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#scenario-when-oauth2-is-used" class="table-of-contents__link toc-highlight">scenario when OAuth2 is used</a></li><li><a href="#oauth2-grant-types" class="table-of-contents__link toc-highlight">OAuth2 grant types</a><ul><li><a href="#authorization-code-grant" class="table-of-contents__link toc-highlight">authorization code Grant</a></li><li><a href="#more-grant-types-to-be-continued" class="table-of-contents__link toc-highlight">more grant types to be continued...</a></li></ul></li><li><a href="#where-goes-the-oauth10" class="table-of-contents__link toc-highlight">Where goes the OAuth1.0?</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">MIT Licensed | Copyright © 2025 wontonion. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>